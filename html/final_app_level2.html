<html>

<head>
    <link REL="stylesheet" HREF="../styles/final_app_level2.css" />
    <title>Level 2</title>
</head>

<body>
    <div class="container">
        <div id="sprite"></div>
        <div id="fireball1"></div>
        <div id="fireball2"></div>
        <div id="portal"></div>
        <canvas id="maze" width="500" height="500"> </canvas>
    </div>
    <img class="hide" id="level" width="500" height="500" src="../images/level2.png" alt="level">
    <script src="https://code.jquery.com/jquery-3.3.1.min.js">
        $(document).ready(function() {
            function loop() {
                $('#fireball1').animate({
                    top: '+=90',
                }, 1400, loop);
                $('#fireball1').animate({
                    top: '-=90',
                }, 1400, loop);
                $('#fireball2').animate({
                    top: '-=90',
                }, 1400, loop);
                $('#fireball2').animate({
                    top: '+=90',
                }, 1400, loop);
                $('#fireball3').animate({
                    left: '+=90',
                }, 1400, loop);
                $('#fireball3').animate({
                    left: '-=90',
                }, 1400, loop);
                $('#fireball4').animate({
                    top: '-=90',
                }, 1300, loop);
                $('#fireball4').animate({
                    top: '+=90',
                }, 1300, loop);
                $('#fireball5').animate({
                    left: '+=90',
                }, 1300, loop);
                $('#fireball5').animate({
                    left: '-=90',
                }, 1300, loop);

            }
            var $target = $("#sprite");
            var $source1 = $("#portal");
            var $source2 = $("#fireball1");
            var $source3 = $("#fireball2");
            var $source4 = $("#fireball3");
            var $source5 = $("#fireball4");
            var $source6 = $("#fireball5");

            function firecollide() {
                if (collision($source2, $target) == true || collision($source3, $target) == true || collision($source4, $target) == true || collision($source5, $target) == true || collision($source6, $target) == true) {
                    clearInterval(fc);
                    reset();
                    return;
                }

            }

            function portalcollide() {
                if (collision($source1, $target) == true) {
                    clearInterval(pf);
                    var location = window.location.href
                    if (location.includes("level1")) {
                        window.location = "final_app_level2.html";
                    }
                    if (location.includes("level2")) {
                        window.location = "final_app_level3.html";
                    }
                    if (location.includes("level3")) {
                        window.location = "final_app_level4.html";
                    }
                    if (location.includes("level4")) {
                        window.location = "final_app_level5.html";
                    }
                    if (location.includes("level5")) {
                        window.location = "final_app_level1.html";
                    }
                }
            }
            loop();
            var fc = setInterval(firecollide, 10);
            var pf = setInterval(portalcollide, 10);
        });

    </script>
    <script src="../final_app.js"></script>
</body>

</html>
